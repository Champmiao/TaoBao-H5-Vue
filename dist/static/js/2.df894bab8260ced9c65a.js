webpackJsonp([2],{"/RoE":function(t,s){},"B+Nm":function(t,s){},CGQl:function(t,s){},CfYT:function(t,s){},HmuS:function(t,s){},PAoD:function(t,s,e){t.exports=e.p+"static/img/serve.251b7b4.png"},PzP8:function(t,s){},QbBB:function(t,s){},"SOh+":function(t,s){},axgx:function(t,s,e){"use strict";e("eqfM");var i=e("/QYm"),o={name:"goodslist",data:function(){return{token:"6B8F4F0095407A1B9850806F87395882AFAB3E9707435D6B0888B566D7AD3FF8",goodslistmessage:[]}},methods:{idgetgood:function(t){this.$router.push({name:"goodsinfo",params:{id:t}})},getgoods:function(t){var s=this;i.a.loading({message:"加载中...",forbidClick:!0,duration:300}),this.$http.get(t).then(function(t){for(var e=0;e<t.data.ret.data.length;e++)s.goodslistmessage.push(t.data.ret.data[e])}).catch(function(t){console.log(t+"获取商品列表失败")})}},created:function(){var t=this;this.$http.get("http://learn.tx2.qrqy.net/api/product/getListByCon").then(function(s){t.goodslistmessage=s.data.ret.data}).catch(function(t){console.log(t)})}},a={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"goodslist"},[e("lazy-component",t._l(t.goodslistmessage,function(s,i){return e("a",{directives:[{name:"lazy",rawName:"v-lazy",value:s,expression:"val"}],key:i,staticClass:"goodsbox",attrs:{href:"#"},on:{click:function(e){return t.idgetgood(s.id)}}},[e("img",{staticClass:"goodsimg",attrs:{src:s.img_arr[0],alt:""}}),t._v(" "),e("div",{staticClass:"goodspricebox"},[e("div",{staticClass:"top"},[e("span",{staticClass:"goodsname"},[t._v(t._s(s.name))])]),t._v(" "),e("div",{staticClass:"price"},[e("span",{staticClass:"RMB"},[t._v("￥")]),t._v(" "),e("span",{staticClass:"goodsprice"},[t._v(t._s((parseFloat(s.sale_price)+Math.floor(10*Math.random()+1)).toFixed(2)))]),t._v(" "),e("span",{staticClass:"goodsbuy"},[t._v(t._s(s.show_num+"人已购买"))])])])])}),0)],1)},staticRenderFns:[]};var n=e("VU/8")(o,a,!1,function(t){e("HmuS")},null,null);s.a=n.exports},qv3b:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});e("nsZj"),e("02pT"),e("T2s0"),e("1H7Z"),e("nOtf"),e("hW8u"),e("WpgC"),e("JsOw"),e("W0KU"),e("CGQl");var i=e("RfZZ"),o=e("7+uW"),a=e("o69Z"),n=e("joY4"),c=e("RP/J"),r=e("CsZI"),l=e("vwLT"),h=e("+2ln"),u=e("Wtz3"),v=e("7ZPY"),d=e("pIDD"),m=e("rD0v"),g=Object(a.b)("image-preview"),p=g[0],f=g[1];function _(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}var C,b=p({mixins:[Object(r.a)({skipToggleEvent:!0}),l.a],props:{className:null,asyncClose:Boolean,showIndicators:Boolean,images:{type:Array,default:function(){return[]}},loop:{type:Boolean,default:!0},swipeDuration:{type:[Number,String],default:500},overlay:{type:Boolean,default:!0},showIndex:{type:Boolean,default:!0},startPosition:{type:[Number,String],default:0},minZoom:{type:[Number,String],default:1/3},maxZoom:{type:[Number,String],default:3},overlayClass:{type:String,default:f("overlay")},closeable:Boolean,closeIcon:{type:String,default:"clear"},closeIconPosition:{type:String,default:"top-right"}},data:function(){return{scale:1,moveX:0,moveY:0,active:0,moving:!1,zooming:!1,doubleClickTimer:null}},computed:{imageStyle:function(){var t=this.scale,s={transitionDuration:this.zooming||this.moving?"0s":".3s"};return 1!==t&&(s.transform="scale("+t+", "+t+") translate("+this.moveX/t+"px, "+this.moveY/t+"px)"),s}},watch:{startPosition:"setActive",value:function(t){var s=this;t?(this.setActive(+this.startPosition),this.$nextTick(function(){s.$refs.swipe.swipeTo(+s.startPosition,{immediate:!0})})):this.$emit("close",{index:this.active,url:this.images[this.active]})},shouldRender:{handler:function(t){var s=this;t&&this.$nextTick(function(){var t=s.$refs.swipe.$el;Object(c.b)(t,"touchstart",s.onWrapperTouchStart),Object(c.b)(t,"touchmove",c.c),Object(c.b)(t,"touchend",s.onWrapperTouchEnd),Object(c.b)(t,"touchcancel",s.onWrapperTouchEnd)})},immediate:!0}},methods:{emitClose:function(){this.asyncClose||this.$emit("input",!1)},onWrapperTouchStart:function(){this.touchStartTime=new Date},onWrapperTouchEnd:function(t){var s=this;Object(c.c)(t);var e=new Date-this.touchStartTime,i=this.$refs.swipe||{},o=i.offsetX,a=void 0===o?0:o,n=i.offsetY;e<250&&a<10&&(void 0===n?0:n)<10&&(this.doubleClickTimer?(clearTimeout(this.doubleClickTimer),this.doubleClickTimer=null,this.toggleScale()):this.doubleClickTimer=setTimeout(function(){s.emitClose(),s.doubleClickTimer=null},250))},startMove:function(t){var s=t.currentTarget.getBoundingClientRect(),e=window.innerWidth,i=window.innerHeight;this.touchStart(t),this.moving=!0,this.startMoveX=this.moveX,this.startMoveY=this.moveY,this.maxMoveX=Math.max(0,(s.width-e)/2),this.maxMoveY=Math.max(0,(s.height-i)/2)},startZoom:function(t){this.moving=!1,this.zooming=!0,this.startScale=this.scale,this.startDistance=_(t.touches)},onImageTouchStart:function(t){var s=t.touches,e=(this.$refs.swipe||{}).offsetX,i=void 0===e?0:e;1===s.length&&1!==this.scale?this.startMove(t):2!==s.length||i||this.startZoom(t)},onImageTouchMove:function(t){var s=t.touches;if((this.moving||this.zooming)&&Object(c.c)(t,!0),this.moving){this.touchMove(t);var e=this.deltaX+this.startMoveX,i=this.deltaY+this.startMoveY;this.moveX=Object(n.b)(e,-this.maxMoveX,this.maxMoveX),this.moveY=Object(n.b)(i,-this.maxMoveY,this.maxMoveY)}if(this.zooming&&2===s.length){var o=_(s),a=this.startScale*o/this.startDistance;this.setScale(a)}},onImageTouchEnd:function(t){if(this.moving||this.zooming){var s=!0;this.moving&&this.startMoveX===this.moveX&&this.startMoveY===this.moveY&&(s=!1),t.touches.length||(this.moving=!1,this.zooming=!1,this.startMoveX=0,this.startMoveY=0,this.startScale=1,this.scale<1&&this.resetScale()),s&&Object(c.c)(t,!0)}},setActive:function(t){this.resetScale(),t!==this.active&&(this.active=t,this.$emit("change",t))},setScale:function(t){var s=Object(n.b)(t,+this.minZoom,+this.maxZoom);this.scale=s,this.$emit("scale",{index:this.active,scale:s})},resetScale:function(){this.setScale(1),this.moveX=0,this.moveY=0},toggleScale:function(){var t=this.scale>1?1:2;this.setScale(t),this.moveX=0,this.moveY=0},genIndex:function(){var t=this.$createElement;if(this.showIndex)return t("div",{class:f("index")},[this.slots("index")||this.active+1+" / "+this.images.length])},genCover:function(){var t=this.$createElement,s=this.slots("cover");if(s)return t("div",{class:f("cover")},[s])},genImages:function(){var t=this,s=this.$createElement,e={loading:function(){return s(d.a,{attrs:{type:"spinner"}})}};return s(v.a,{ref:"swipe",attrs:{lazyRender:!0,loop:this.loop,indicatorColor:"white",duration:this.swipeDuration,initialSwipe:this.startPosition,showIndicators:this.showIndicators},class:f("swipe"),on:{change:this.setActive}},[this.images.map(function(i,o){return s(m.a,[s(u.a,{attrs:{src:i,fit:"contain"},class:f("image"),scopedSlots:e,style:o===t.active?t.imageStyle:null,nativeOn:{touchstart:t.onImageTouchStart,touchmove:t.onImageTouchMove,touchend:t.onImageTouchEnd,touchcancel:t.onImageTouchEnd}})])})])},genClose:function(){var t=this.$createElement;if(this.closeable)return t(h.a,{attrs:{role:"button",name:this.closeIcon},class:f("close-icon",this.closeIconPosition),on:{click:this.emitClose}})},onClosed:function(){this.$emit("closed")}},render:function(){var t=arguments[0];if(this.shouldRender)return t("transition",{attrs:{name:"van-fade"},on:{afterLeave:this.onClosed}},[t("div",{directives:[{name:"show",value:this.value}],class:[f(),this.className]},[this.genClose(),this.genImages(),this.genIndex(),this.genCover()])])}}),w={loop:!0,images:[],value:!0,minZoom:1/3,maxZoom:3,className:"",onClose:null,onChange:null,showIndex:!0,closeable:!1,closeIcon:"clear",asyncClose:!1,startPosition:0,swipeDuration:500,showIndicators:!1,closeOnPopstate:!1,closeIconPosition:"top-right"},x=function(t,s){if(void 0===s&&(s=0),!a.h){C||(C=new(o.a.extend(b))({el:document.createElement("div")}),document.body.appendChild(C.$el),C.$on("change",function(t){C.onChange&&C.onChange(t)}),C.$on("scale",function(t){C.onScale&&C.onScale(t)}));var e=Array.isArray(t)?{images:t,startPosition:s}:t;return Object(i.a)(C,w,e),C.$once("input",function(t){C.value=t}),C.$once("closed",function(){C.images=[]}),e.onClose&&(C.$off("close"),C.$once("close",e.onClose)),C}};x.Component=b,x.install=function(){o.a.use(b)};var y=x,$={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("div",{staticClass:"divide-bar"},[s("span",{staticClass:"line"}),this._v(" "),s("div",{staticClass:"icon-info"},[s("span",{staticClass:"iconfont icon-piclight"}),this._v(" "),s("span",{staticClass:"icon-text"},[this._v(this._s(this.whichmodule))])]),this._v(" "),s("span",{staticClass:"line"})])])},staticRenderFns:[]};var k=e("VU/8")({name:"modulestart",props:["whichmodule"],data:function(){return{}}},$,!1,function(t){e("B+Nm")},null,null).exports,S=e("axgx"),M={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"pinlunwrap"},[e("div",{staticClass:"pinglunhead"},[e("span",{staticClass:"pingjiatitle"},[t._v("宝贝评价(777)")]),t._v(" "),e("span",{staticClass:"seeall"},[t._v("查看全部")]),t._v(" "),e("span",{staticClass:"iconfont icon-next-m"})]),t._v(" "),e("div",{staticClass:"pinglunbody"},[e("div",{staticClass:"customer"},[e("img",{staticClass:"customerimg",attrs:{src:"https://wwc.alicdn.com/avatar/getAvatar.do?userIdStr=vCNuv8lzvF9hPHgYP0guO8gbP0k0MkRIvCk4vFIWv0lIMmg4MC9zM87IMFHYvHgG&width=40&height=40&type=sns"}})]),t._v(" "),e("span",{staticClass:"customername"},[t._v("t**3")]),t._v(" "),e("span",{staticClass:"comments"},[t._v("套子非常贴合，材质细腻，充电口什么的也在外面，非常人性化，满意的购物体验")])])]),t._v(" "),e("div",{staticClass:"grayline"}),t._v(" "),e("div",{staticClass:"wendajiawrap"},[e("div",{staticClass:"wendajiahead"},[e("span",{staticClass:"wendajiatitle"},[t._v("问大家(77)")]),t._v(" "),e("span",{staticClass:"seeall"},[t._v("查看全部")]),t._v(" "),e("span",{staticClass:"iconfont icon-next-m"})]),t._v(" "),e("div",{staticClass:"wendajiabody"},[e("img",{staticClass:"wendajiaimg",attrs:{src:"http://gw.alicdn.com/tfs/TB1lneilZLJ8KJjy0FnXXcFDpXa-36-36.png_30x30q90_.webp"}}),t._v(" "),e("span",{staticClass:"question"},[t._v("是真品吗？")])]),t._v(" "),e("div",{staticClass:"wendajiablock"})])])}]};var T=e("VU/8")({name:"reviews",data:function(){return{}}},M,!1,function(t){e("SOh+")},null,null).exports,I={name:"bottompop",props:["title","description"],data:function(){return{show:!1}},methods:{getContainer:function(){return document.querySelector(".bottompop")},showPopup:function(){this.show=!0}}},j={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"bottompop"},[i("van-cell",{attrs:{"is-link":""},on:{click:t.showPopup}},[i("span",{staticClass:"bottompopitem"},[t._v(t._s(t.title))]),t._v(" "),i("span",{staticClass:"bottompopdes"},[t._v(t._s(t.description))]),t._v(" "),i("span",{staticClass:"iconfont icon-back-copy"})]),t._v(" "),i("van-popup",{style:{height:"83%"},attrs:{"get-container":t.getContainer,closeable:"",round:"","lock-scroll":"","lazy-render":"",position:"bottom"},model:{value:t.show,callback:function(s){t.show=s},expression:"show"}},[i("img",{staticClass:"popimg",attrs:{src:e("PAoD"),alt:""}})])],1)},staticRenderFns:[]};var P=e("VU/8")(I,j,!1,function(t){e("PzP8")},null,null).exports,Y={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"goodstitlewrap"},[e("div",{staticClass:"pricewrap"},[e("span",{staticClass:"RMBicon"},[t._v("￥")]),t._v(" "),e("span",{staticClass:"saleprice"},[t._v(t._s(t.message.sale_price))]),t._v(" "),e("span",{staticClass:"taojinbi"},[t._v("淘金币可抵消"+t._s((.04*parseFloat(t.message.sale_price)).toFixed(2)+"元"))])]),t._v(" "),e("div",{staticClass:"delprice"},[t._v("\n      价格:￥\n      "),e("del",[t._v(t._s(t.message.show_price))])]),t._v(" "),e("div",{staticClass:"deswrap"},[e("span",{staticClass:"goodsintro"},[t._v(t._s(t.message.intro))]),t._v(" "),t._m(0)]),t._v(" "),e("div",{staticClass:"nums"},[e("span",{staticClass:"post"},[t._v("快递: 免运费")]),t._v(" "),e("span",{staticClass:"salenum"},[t._v("月销"+t._s(t.message.show_num))]),t._v(" "),e("span",{staticClass:"from"},[t._v(t._s(t.from))])])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"share"},[s("div",{staticClass:"iconfont icon-share"}),this._v(" "),s("span",{staticClass:"sharetext"},[this._v("分享")])])}]};var B=e("VU/8")({name:"goodstitle",props:["message"],data:function(){return{from:"辽宁沈阳"}}},Y,!1,function(t){e("QbBB")},null,null).exports,E={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("van-goods-action",[s("van-goods-action-icon",{staticClass:"iconfont icon-shop",attrs:{text:"店铺",color:"#ff5000"}}),this._v(" "),s("van-goods-action-icon",{staticClass:"iconfont icon-wang",attrs:{text:"客服",color:"#999"}}),this._v(" "),s("van-goods-action-icon",{staticClass:"iconfont icon-favor",attrs:{text:"收藏",color:"#999"}}),this._v(" "),s("van-goods-action-button",{attrs:{type:"warning",text:"加入购物车"}}),this._v(" "),s("van-goods-action-button",{attrs:{type:"danger",text:"立即购买"}})],1)],1)},staticRenderFns:[]};var F={name:"goodsinfo",data:function(){return{current:0,id:0,goodsmessage:{},imglist:[],imgnum:0,parameters:{serve:["服务","7天无理由","@a/fakeimg/serve.png"],guige:["规格","请选择颜色分类"],canshu:["参数","品牌 型号 生产日期 .."]},module:{goodsinfo:"详情",goodsrecommend:"推荐商品"},pageaddress:"http://learn.tx2.qrqy.net/api/product/getListByCon?page="}},methods:{getid:function(){this.id=this.$route.params&&this.$route.params.id},onChange:function(t){this.current=t},imgpreview:function(){y(this.imglist)},backbutton:function(){this.$router.back(-1),this.$router.back(-1)},tocart:function(){this.$router.push({name:"cart"})}},components:{goodsaction:e("VU/8")({name:"goodsaction",data:function(){return{}}},E,!1,function(t){e("CfYT")},null,null).exports,goodstitle:B,bottompop:P,reviews:T,modulestart:k,goodslist:S.a},mounted:function(){var t=this;this.getid(),this.$http.get("http://learn.tx2.qrqy.net/api/product/getById?id="+this.id).then(function(s){t.goodsmessage=s.data.ret,t.imglist=s.data.ret.img_arr,t.imgnum=t.imglist.length}).catch(function(t){console.log(t)})}},X={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"goodsbg"},[e("div",{staticClass:"imgswrap"},[e("van-swipe",{attrs:{loop:!1},on:{change:t.onChange},scopedSlots:t._u([{key:"indicator",fn:function(){return[e("div",{staticClass:"custom-indicator"},[t._v(t._s(t.current+1)+"/"+t._s(t.imgnum))])]},proxy:!0}])},t._l(t.imglist,function(s,i){return e("van-swipe-item",{key:i},[e("img",{staticClass:"goodsinfoimg",attrs:{src:s},on:{click:function(s){return t.imgpreview()}}})])}),1)],1),t._v(" "),e("div",{staticClass:"topbar"},[e("div",{staticClass:"back iconfont icon-back",on:{click:t.backbutton}}),t._v(" "),e("div",{staticClass:"tocart iconfont icon-cart",on:{click:t.tocart}})]),t._v(" "),e("div",[e("goodstitle",{staticClass:"goodsinfocenter",attrs:{message:t.goodsmessage}}),t._v(" "),e("div",{staticClass:"goodsinfoblock"}),t._v(" "),e("bottompop",{attrs:{title:this.parameters.serve[0],description:this.parameters.serve[1],img:this.parameters.serve[2]}}),t._v(" "),e("div",{staticClass:"goodsinfoblock"}),t._v(" "),e("bottompop",{attrs:{title:this.parameters.guige[0],description:this.parameters.guige[1]}}),t._v(" "),e("bottompop",{attrs:{title:this.parameters.canshu[0],description:this.parameters.canshu[1]}}),t._v(" "),e("div",{staticClass:"goodsinfoblock"})],1),t._v(" "),e("reviews"),t._v(" "),e("div",[e("modulestart",{attrs:{whichmodule:this.module.goodsinfo}}),t._v(" "),e("div",{staticClass:"force"},[t._v("由于接口数据不足，仅做展示")]),t._v(" "),t._l(t.imglist,function(t,s){return e("img",{key:s,staticClass:"goodsinfoimg",attrs:{src:t}})})],2),t._v(" "),e("div",[e("modulestart",{attrs:{whichmodule:this.module.goodsrecommend}}),t._v(" "),e("goodslist",{staticClass:"goodslistwrap2 clearfix"})],1),t._v(" "),e("goodsaction")],1)},staticRenderFns:[]};var O=e("VU/8")(F,X,!1,function(t){e("/RoE")},null,null);s.default=O.exports}});
//# sourceMappingURL=2.df894bab8260ced9c65a.js.map